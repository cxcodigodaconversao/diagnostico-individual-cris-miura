<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Diagn√≥stico Individual de Valoriza√ß√£o Profissional</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Sora:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        :root {
            --bg-primary: #0a0a0a;
            --bg-card: #1a1a1a;
            --gold: #F5A623;
            --gold-light: #FFD93D;
            --gold-dark: #D4920A;
            --gold-glow: rgba(245,166,35,0.35);
            --text: #ffffff;
            --text-muted: #a3a3a3;
            --text-dim: #525252;
            --border: rgba(245,166,35,0.25);
            --shadow: 0 0 50px rgba(245,166,35,0.12);
            --grad: linear-gradient(135deg, #F5A623 0%, #FFD93D 50%, #D4920A 100%);
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-primary);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        body::before {
            content: '';
            position: fixed;
            inset: 0;
            background:
                radial-gradient(ellipse at 20% 0%, rgba(245,166,35,0.08) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 100%, rgba(212,146,10,0.06) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 1;
        }

        /* ‚îÄ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ‚îÄ */
        .header {
            text-align: center;
            padding: 40px 20px 50px;
            position: relative;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 120px;
            height: 3px;
            background: var(--grad);
            border-radius: 3px;
            box-shadow: 0 0 25px var(--gold-glow);
        }

        .logo-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--grad);
            padding: 14px 32px;
            border-radius: 14px;
            font-family: 'Sora', sans-serif;
            font-size: 1rem;
            font-weight: 700;
            color: var(--bg-primary);
            letter-spacing: 1.5px;
            margin-bottom: 25px;
            text-transform: uppercase;
            box-shadow: 0 8px 40px var(--gold-glow);
        }

        .header h1 {
            font-family: 'Sora', sans-serif;
            font-size: clamp(1.7rem, 4vw, 2.5rem);
            font-weight: 700;
            margin-bottom: 12px;
            letter-spacing: -0.5px;
        }

        .header h1 span {
            background: var(--grad);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            color: var(--text-muted);
            font-size: 1rem;
            max-width: 580px;
            margin: 0 auto;
        }

        /* ‚îÄ‚îÄ‚îÄ PROGRESS ‚îÄ‚îÄ‚îÄ */
        .progress-section {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 22px 26px;
            margin: 30px 0 25px;
            box-shadow: var(--shadow);
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 14px;
            font-size: 0.9rem;
            color: var(--text-muted);
            font-weight: 500;
        }

        .progress-info strong { color: var(--gold); }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(255,255,255,0.08);
            border-radius: 3px;
            overflow: visible;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: var(--grad);
            border-radius: 3px;
            transition: width 0.5s ease;
            box-shadow: 0 0 15px var(--gold-glow);
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            right: -6px;
            top: 50%;
            transform: translateY(-50%);
            width: 14px;
            height: 14px;
            background: var(--gold);
            border-radius: 50%;
            box-shadow: 0 0 20px var(--gold);
        }

        /* ‚îÄ‚îÄ‚îÄ CARD BASE ‚îÄ‚îÄ‚îÄ */
        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 40px 35px;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            margin-bottom: 25px;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 3px;
            background: var(--grad);
            box-shadow: 0 0 20px var(--gold-glow);
        }

        /* ‚îÄ‚îÄ‚îÄ AREA BADGE ‚îÄ‚îÄ‚îÄ */
        .area-badge {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: rgba(245,166,35,0.1);
            border: 1px solid var(--border);
            color: var(--gold);
            padding: 10px 20px;
            border-radius: 50px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 22px;
        }

        .area-badge::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--gold);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.4; transform: scale(0.8); }
        }

        /* ‚îÄ‚îÄ‚îÄ EXPLANATION ‚îÄ‚îÄ‚îÄ */
        .expl-title {
            font-family: 'Sora', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--gold);
            margin-bottom: 18px;
        }

        .expl-text {
            font-size: 1.05rem;
            color: var(--text-muted);
            line-height: 1.75;
            margin-bottom: 35px;
        }

        /* ‚îÄ‚îÄ‚îÄ QUESTION ‚îÄ‚îÄ‚îÄ */
        .q-meta {
            color: var(--text-dim);
            font-size: 0.85rem;
            margin-bottom: 12px;
            font-weight: 500;
        }

        .q-text {
            font-family: 'Sora', sans-serif;
            font-size: 1.18rem;
            font-weight: 500;
            line-height: 1.55;
            margin-bottom: 32px;
        }

        /* ‚îÄ‚îÄ‚îÄ SCORE BUTTONS ‚îÄ‚îÄ‚îÄ */
        .score-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 10px;
            max-width: 420px;
            margin: 0 auto 18px;
        }

        .score-btn {
            aspect-ratio: 1;
            min-height: 50px;
            border-radius: 12px;
            border: 2px solid var(--border);
            background: rgba(255,255,255,0.04);
            color: var(--text-muted);
            font-family: 'Sora', sans-serif;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.25s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .score-btn:hover {
            border-color: var(--gold);
            color: var(--gold);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(245,166,35,0.2);
        }

        .score-btn.selected {
            background: var(--grad);
            border-color: var(--gold);
            color: var(--bg-primary);
            transform: translateY(-3px) scale(1.06);
            box-shadow: 0 8px 28px rgba(245,166,35,0.45);
        }

        .scale-labels {
            display: flex;
            justify-content: space-between;
            font-size: 0.78rem;
            color: var(--text-dim);
            max-width: 420px;
            margin: 0 auto 18px;
        }

        .score-exp-box {
            background: rgba(245,166,35,0.07);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 16px 22px;
            text-align: center;
        }

        .score-exp-label {
            color: var(--gold);
            font-family: 'Sora', sans-serif;
            font-weight: 600;
            font-size: 0.98rem;
            margin-bottom: 4px;
        }

        .score-exp-desc {
            color: var(--text-muted);
            font-size: 0.88rem;
        }

        /* ‚îÄ‚îÄ‚îÄ BUTTONS ‚îÄ‚îÄ‚îÄ */
        .btn {
            padding: 14px 32px;
            border: none;
            border-radius: 12px;
            font-size: 0.95rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.25s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-family: 'Outfit', sans-serif;
        }

        .btn-gold {
            background: var(--grad);
            color: var(--bg-primary);
        }

        .btn-gold:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 28px rgba(245,166,35,0.4);
        }

        .btn-outline {
            background: transparent;
            color: var(--text-muted);
            border: 2px solid var(--border);
        }

        .btn-outline:hover:not(:disabled) {
            border-color: var(--gold);
            color: var(--gold);
        }

        .btn:disabled {
            opacity: 0.35;
            cursor: not-allowed;
            transform: none !important;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 28px;
        }

        /* ‚îÄ‚îÄ‚îÄ RESULTS ‚îÄ‚îÄ‚îÄ */
        .results-hero {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 50px 40px;
            text-align: center;
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            margin-bottom: 28px;
        }

        .results-hero::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0;
            height: 4px;
            background: var(--grad);
            box-shadow: 0 0 25px var(--gold-glow);
        }

        .total-score {
            font-family: 'Sora', sans-serif;
            font-size: 5.5rem;
            font-weight: 800;
            background: var(--grad);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1;
            margin-bottom: 10px;
        }

        .score-level {
            font-family: 'Sora', sans-serif;
            font-size: 1.6rem;
            color: var(--gold);
            font-weight: 700;
            margin-bottom: 16px;
        }

        .score-msg {
            color: var(--text-muted);
            font-size: 1.02rem;
            line-height: 1.7;
            max-width: 620px;
            margin: 0 auto 25px;
        }

        .benchmark {
            background: rgba(245,166,35,0.08);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 14px 22px;
            font-size: 0.88rem;
            color: var(--text-muted);
        }

        .benchmark strong { color: var(--gold); }

        /* ‚îÄ‚îÄ‚îÄ CHART ‚îÄ‚îÄ‚îÄ */
        .chart-card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 40px 35px;
            text-align: center;
            box-shadow: var(--shadow);
            margin-bottom: 28px;
        }

        .chart-card h3 {
            font-family: 'Sora', sans-serif;
            font-size: 1.25rem;
            margin-bottom: 28px;
        }

        /* ‚îÄ‚îÄ‚îÄ DETAILED RESULTS ‚îÄ‚îÄ‚îÄ */
        .section-title {
            font-family: 'Sora', sans-serif;
            font-size: 1.25rem;
            margin-bottom: 20px;
        }

        .detailed-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(310px, 1fr));
            gap: 18px;
            margin-bottom: 30px;
        }

        .result-item {
            background: var(--bg-card);
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 24px;
            box-shadow: var(--shadow);
            transition: transform 0.25s ease;
        }

        .result-item:hover { transform: translateY(-4px); }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 14px;
        }

        .result-title {
            font-family: 'Sora', sans-serif;
            color: var(--gold);
            font-weight: 600;
            font-size: 0.9rem;
            max-width: 195px;
            line-height: 1.3;
        }

        .result-avg {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .result-avg small {
            font-size: 0.82rem;
            color: var(--text-dim);
            font-weight: 400;
        }

        .result-bar {
            width: 100%;
            height: 5px;
            background: rgba(255,255,255,0.07);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 12px;
        }

        .result-fill {
            height: 100%;
            background: var(--grad);
            border-radius: 3px;
            transition: width 1s ease;
        }

        .result-status {
            display: inline-flex;
            font-size: 0.8rem;
            font-weight: 600;
            padding: 5px 12px;
            border-radius: 20px;
            margin-bottom: 12px;
        }

        .s-excellent { background: rgba(16,185,129,0.15); color: #10B981; }
        .s-good      { background: rgba(245,166,35,0.15); color: #F5A623; }
        .s-warning   { background: rgba(251,191,36,0.15); color: #fbbf24; }
        .s-critical  { background: rgba(239,68,68,0.15);  color: #ef4444; }

        .result-feedback {
            font-size: 0.87rem;
            color: var(--text-muted);
            line-height: 1.6;
            padding: 12px 14px;
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            border-left: 3px solid var(--gold);
        }

        /* ‚îÄ‚îÄ‚îÄ THREE PILLARS ‚îÄ‚îÄ‚îÄ */
        .pillars {
            background: var(--grad);
            border-radius: 22px;
            padding: 40px 35px;
            color: var(--bg-primary);
            margin-bottom: 28px;
        }

        .pillars h3 {
            font-family: 'Sora', sans-serif;
            font-size: 1.35rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 28px;
        }

        .pillars-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(195px, 1fr));
            gap: 18px;
        }

        .pillar {
            background: rgba(10,10,10,0.12);
            border-radius: 12px;
            padding: 22px 18px;
        }

        .pillar h4 {
            font-family: 'Sora', sans-serif;
            font-size: 0.95rem;
            font-weight: 700;
            text-align: center;
            margin-bottom: 8px;
        }

        .pillar p {
            font-size: 0.83rem;
            text-align: center;
            opacity: 0.8;
            margin-bottom: 14px;
        }

        .pillar-item {
            font-size: 0.82rem;
            margin-bottom: 6px;
            opacity: 0.9;
        }

        /* ‚îÄ‚îÄ‚îÄ RESTART ‚îÄ‚îÄ‚îÄ */
        .restart { text-align: center; padding: 20px 0 40px; }

        /* ‚îÄ‚îÄ‚îÄ UTILITY ‚îÄ‚îÄ‚îÄ */
        .hidden { display: none !important; }
        .text-center { text-align: center; }

        /* ‚îÄ‚îÄ‚îÄ RESPONSIVE ‚îÄ‚îÄ‚îÄ */
        @media (max-width: 768px) {
            .container { padding: 15px; }
            .header { padding: 25px 15px 40px; }
            .card { padding: 25px 18px; }
            .score-grid { gap: 7px; max-width: 340px; }
            .score-btn { min-height: 42px; font-size: 0.9rem; }
            .total-score { font-size: 4rem; }
            .detailed-grid { grid-template-columns: 1fr; }
            .pillars-grid { grid-template-columns: 1fr; }
            .results-hero { padding: 35px 20px; }
            .chart-card { padding: 28px 12px; }
            .pillars { padding: 30px 20px; }
        }
    </style>
</head>
<body>
<div class="container">

    <!-- HEADER -->
    <div class="header">
        <div class="logo-badge">ü¶∑ Diagn√≥stico Profissional</div>
        <h1>Valoriza√ß√£o <span>Profissional</span></h1>
        <p>Descubra seu n√≠vel de dom√≠nio nas 7 √°reas essenciais do M√©todo Dentista que Salva Dentes</p>
    </div>

    <!-- PROGRESS -->
    <div class="progress-section hidden" id="progressSection">
        <div class="progress-info">
            <span>Pergunta <strong id="currentQ">1</strong> de <strong>35</strong></span>
            <span><strong id="progressPct">0%</strong> conclu√≠do</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progressFill" style="width:0%"></div>
        </div>
    </div>

    <!-- EXPLANATION -->
    <div id="explanationSection">
        <div class="card">
            <div class="area-badge" id="explBadge">√Årea 1 de 7</div>
            <div class="expl-title" id="explTitle"></div>
            <div class="expl-text" id="explText"></div>
            <div class="text-center">
                <button class="btn btn-gold" onclick="startQuestions()">Iniciar Perguntas ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- QUESTION -->
    <div id="questionSection" class="hidden">
        <div class="card">
            <div class="area-badge" id="qBadge"></div>
            <div class="q-meta" id="qMeta"></div>
            <div class="q-text" id="qText"></div>

            <div class="score-grid" id="scoreGrid"></div>

            <div class="scale-labels">
                <span>Nunca consigo</span>
                <span>Sempre consigo</span>
            </div>

            <div class="score-exp-box">
                <div class="score-exp-label" id="expLabel">Selecione uma nota</div>
                <div class="score-exp-desc" id="expDesc">Toque em um n√∫mero para avaliar</div>
            </div>

            <div class="nav-buttons">
                <button class="btn btn-outline" id="prevBtn" onclick="prevQ()" style="visibility:hidden">‚Üê Anterior</button>
                <button class="btn btn-gold" id="nextBtn" onclick="nextQ()" disabled>Pr√≥xima ‚Üí</button>
            </div>
        </div>
    </div>

    <!-- RESULTS -->
    <div id="resultsSection" class="hidden">

        <div class="results-hero">
            <div class="total-score" id="totalScore">0%</div>
            <div class="score-level" id="scoreLevel"></div>
            <div class="score-msg" id="scoreMsg"></div>
            <div class="benchmark">
                <strong>Refer√™ncia:</strong> Pontua√ß√µes <strong>80-100%</strong> indicam excel√™ncia.
                √Åreas abaixo de <strong>60%</strong> precisam de aten√ß√£o priorit√°ria.
            </div>
        </div>

        <div class="chart-card">
            <h3>üìä Vis√£o Geral das 7 √Åreas</h3>
            <canvas id="radarChart" width="400" height="400"></canvas>
        </div>

        <div class="section-title">üîç An√°lise Detalhada por √Årea</div>
        <div class="detailed-grid" id="detailedResults"></div>

        <div class="pillars">
            <h3>Para Alcan√ßar os Resultados Voc√™ Precisa de Tr√™s Pilares</h3>
            <div class="pillars-grid">
                <div class="pillar">
                    <h4>DIRECIONAMENTO</h4>
                    <p>Saber exatamente o que fazer e como fazer</p>
                    <div class="pillar-item">ü¶∑ Protocolo claro para cada procedimento</div>
                    <div class="pillar-item">ü¶∑ Estrat√©gia de precifica√ß√£o estruturada</div>
                    <div class="pillar-item">ü¶∑ T√©cnicas de comunica√ß√£o eficazes</div>
                    <div class="pillar-item">ü¶∑ Sistema de capta√ß√£o organizado</div>
                    <div class="pillar-item">ü¶∑ TPNC/PIC padronizados</div>
                </div>
                <div class="pillar">
                    <h4>FEEDBACK</h4>
                    <p>Acompanhamento constante dos seus processos</p>
                    <div class="pillar-item">ü¶∑ Corre√ß√£o de t√©cnicas em tempo real</div>
                    <div class="pillar-item">ü¶∑ Ajuste de precifica√ß√£o quando necess√°rio</div>
                    <div class="pillar-item">ü¶∑ Melhoria da comunica√ß√£o com pacientes</div>
                    <div class="pillar-item">ü¶∑ Otimiza√ß√£o dos TPNC/PIC</div>
                    <div class="pillar-item">ü¶∑ Evolu√ß√£o constante dos resultados</div>
                </div>
                <div class="pillar">
                    <h4>COMUNIDADE</h4>
                    <p>Estar no ambiente certo com pessoas certas</p>
                    <div class="pillar-item">ü¶∑ Troca de experi√™ncias entre profissionais</div>
                    <div class="pillar-item">ü¶∑ Networking qualificado e parcerias</div>
                    <div class="pillar-item">ü¶∑ Motiva√ß√£o atrav√©s de casos de sucesso</div>
                    <div class="pillar-item">ü¶∑ Suporte para implementa√ß√£o de TPNC/PIC</div>
                    <div class="pillar-item">ü¶∑ Ambiente de crescimento profissional</div>
                </div>
            </div>
        </div>

        <div class="restart">
            <button class="btn btn-outline" onclick="restart()">‚Ü∫ Refazer Diagn√≥stico</button>
        </div>

    </div>
</div>

<script>
const areas = [
    {
        nome: "CONSULTA EXTRAORDIN√ÅRIA", icone: "ü¶∑", short: "Consulta",
        expl: {
            titulo: "O que √© Consulta Extraordin√°ria?",
            texto: "A Consulta Extraordin√°ria √© o momento onde voc√™ demonstra sua expertise e diferencial como profissional. √â aqui que voc√™ conta hist√≥rias que conectam emocionalmente com o paciente, realiza exames detalhados como periogramas, e consegue fechar TPNC/PIC usando t√©cnicas avan√ßadas de comunica√ß√£o e persuas√£o."
        },
        perguntas: [
            "A cada 10 pacientes, quantos deles ouvem de voc√™ uma das 7 hist√≥rias que salvam dentes?",
            "A cada 10 pacientes, quantos periogramas voc√™ realiza dentro da alavanca da a√ß√£o do paciente?",
            "A cada 10 pacientes, quantos TPNC/PIC consegue fechar?",
            "O quanto voc√™ utilizou a t√©cnica da bola de cristal nos √∫ltimos 10 pacientes?",
            "Nos √∫ltimos 10 pacientes, o quanto voc√™ utilizou o medo ou sonho como elemento de fechamento do TPNC/PIC?"
        ],
        fb: {
            excellent: "Voc√™ domina a consulta extraordin√°ria! Suas hist√≥rias conectam, os periogramas s√£o realizados consistentemente e o fechamento de TPNC/PIC √© uma realidade. Voc√™ est√° no topo da diferencia√ß√£o profissional.",
            good: "Boa base de consulta, mas h√° espa√ßo para aumentar a frequ√™ncia das hist√≥rias e do periograma. Pequenos ajustes podem elevar significativamente suas taxas de fechamento de TPNC/PIC.",
            warning: "Sua consulta ainda n√£o √© extraordin√°ria. As hist√≥rias s√£o raramente contadas, o periograma √© subutilizado e o fechamento de TPNC/PIC √© inconsistente. √â hora de estruturar seu roteiro de consulta.",
            critical: "Sua consulta est√° longe do potencial. Sem hist√≥rias, sem periograma e sem fechamentos, voc√™ est√° perdendo a oportunidade de transformar cada paciente em um caso de sucesso."
        }
    },
    {
        nome: "RM3em1", icone: "‚öôÔ∏è", short: "RM3em1",
        expl: {
            titulo: "O que √© RM3em1?",
            texto: "RM3em1 √© uma metodologia revolucion√°ria de raspagem e alisamento radicular que combina tr√™s t√©cnicas em uma √∫nica sess√£o. Envolve o uso de tecnologia moderna, evidenciadores de placa para precis√£o m√°xima, e t√©cnicas que garantem conforto mesmo para pacientes com hipersensibilidade, resultando em um acabamento que impressiona os pacientes."
        },
        perguntas: [
            "O quanto a cureta deixou de ser o principal instrumento para sua instrumenta√ß√£o?",
            "A cada 10 procedimentos, quantos voc√™ utiliza o evidenciador de placa como GPS da placa?",
            "O quanto √© confort√°vel a sua instrumenta√ß√£o para o paciente mesmo com hipersensibilidade?",
            "A cada 10 pacientes, quantos elogiam exageradamente o resultado do seu RM3em1?",
            "A cada 10 pacientes, quantos falam: nossa nunca vi meu dente t√£o brilhoso assim?"
        ],
        fb: {
            excellent: "Voc√™ domina o RM3em1! A cureta foi substitu√≠da, o evidenciador guia seu trabalho e os pacientes reconhecem e elogiam seus resultados. Voc√™ √© refer√™ncia em instrumenta√ß√£o.",
            good: "Boa evolu√ß√£o na instrumenta√ß√£o, mas ainda h√° inconsist√™ncias. Com mais treino no uso do evidenciador e t√©cnicas de conforto, seus resultados v√£o impressionar ainda mais.",
            warning: "Sua instrumenta√ß√£o ainda depende muito da cureta e o evidenciador √© subutilizado. Os pacientes n√£o percebem o diferencial. √â hora de dominar o m√©todo RM3em1 completamente.",
            critical: "Voc√™ ainda n√£o implementou o RM3em1. Sem as ferramentas e t√©cnicas corretas, seus resultados s√£o medianos e os pacientes n√£o percebem valor diferencial no seu trabalho."
        }
    },
    {
        nome: "TRATAMENTO PERIODONTAL", icone: "üî¨", short: "Periodontal",
        expl: {
            titulo: "O que √© Tratamento Periodontal Avan√ßado?",
            texto: "Refere-se ao dom√≠nio completo das t√©cnicas de tratamento periodontal, desde procedimentos b√°sicos at√© os mais complexos. Inclui o uso seguro de ultrassom em bolsas profundas, tratamentos de les√µes de furca, TPNC (Terapia Periodontal N√£o Cir√∫rgica) para diferentes graus de periodontite, e o conhecimento para prescrever antibioticoterapia adequada."
        },
        perguntas: [
            "O quanto voc√™ se sente segura para instrumentar bolsas profundas com ultrassom?",
            "O quanto voc√™ se sente segura para tratar uma les√£o de furca com amputa√ß√£o radicular?",
            "O quanto voc√™ se sente segura para realizar TPNC de periodontite severa?",
            "O quanto voc√™ se sente segura para realizar TPNC de mucosite peri-implantar?",
            "O quanto voc√™ se sente segura na prescri√ß√£o de antibioticoterapia dentro do TPNC?"
        ],
        fb: {
            excellent: "Sua seguran√ßa cl√≠nica √© excepcional! Voc√™ instrumenta bolsas profundas, trata les√µes complexas e conduz TPNC de periodontite severa com dom√≠nio total. Voc√™ √© refer√™ncia em periodontia.",
            good: "Boa seguran√ßa nos procedimentos b√°sicos, mas ainda h√° inseguran√ßa em casos mais complexos. Aprofundar o dom√≠nio em casos severos vai ampliar muito seu campo de atua√ß√£o.",
            warning: "Voc√™ tem seguran√ßa limitada em procedimentos periodontais. Casos complexos geram inseguran√ßa e isso pode estar afastando pacientes que precisam de tratamento avan√ßado.",
            critical: "Sua seguran√ßa cl√≠nica precisa de desenvolvimento urgente. Sem dom√≠nio nos procedimentos periodontais, voc√™ est√° limitado a casos simples e perdendo uma enorme fatia do mercado."
        }
    },
    {
        nome: "PROBLEMAS SIST√äMICOS", icone: "ü©∫", short: "Sist√™micos",
        expl: {
            titulo: "O que s√£o Problemas Sist√™micos?",
            texto: "Trata da capacidade de atender pacientes com condi√ß√µes m√©dicas complexas que afetam o tratamento periodontal. Inclui o manejo de pacientes diab√©ticos, tabagistas, com problemas cardiovasculares, depress√£o/ansiedade, e o conhecimento sobre suplementa√ß√£o nutricional para acelerar a cicatriza√ß√£o e resultados do tratamento."
        },
        perguntas: [
            "A cada 10 pacientes sist√™micos, a quantos deles voc√™ conta a hist√≥ria do inc√™ndio ou outra equivalente?",
            "O quanto consegue tratar Periodontite em pacientes diab√©ticos descompensados com seguran√ßa?",
            "O quanto consegue tratar Periodontite impedindo o progresso da perda √≥ssea em pacientes tabagistas com seguran√ßa?",
            "O quanto voc√™ se sente seguro para tratar Periodontite em pacientes com depress√£o e/ou ansiedade?",
            "A cada 10 pacientes sist√™micos, quantos deles voc√™ prescreve suplementa√ß√£o (vit D, C, B12, Omega3) para acelerar o tratamento?"
        ],
        fb: {
            excellent: "Voc√™ √© especialista no manejo de pacientes sist√™micos! As hist√≥rias conectam, o tratamento √© seguro e a suplementa√ß√£o √© parte do protocolo. Voc√™ oferece um cuidado completo e diferenciado.",
            good: "Boa capacidade de manejo sist√™mico, mas ainda h√° √°reas a desenvolver. Incorporar suplementa√ß√£o como rotina e ampliar seguran√ßa nos casos mais complexos vai elevar seus resultados.",
            warning: "Pacientes sist√™micos ainda geram inseguran√ßa. Sem protocolo claro para diab√©ticos, tabagistas e outros casos, voc√™ pode estar limitando seu atendimento e oferecendo resultados inconsistentes.",
            critical: "O manejo de pacientes sist√™micos √© uma lacuna cr√≠tica. Sem dom√≠nio nessa √°rea, voc√™ est√° exposto a riscos cl√≠nicos e perdendo pacientes que precisam de tratamento mais especializado."
        }
    },
    {
        nome: "PRECIFICA√á√ÉO", icone: "üí∞", short: "Precifica√ß√£o",
        expl: {
            titulo: "O que √© Precifica√ß√£o Estrat√©gica?",
            texto: "Refere-se √† capacidade de precificar seus servi√ßos baseado no valor entregue ao paciente. O M√©todo Dentista que Salva Dentes permite cobrar valores premium por salvar dentes que seriam extra√≠dos, oferecendo tratamentos indolores e resultados superiores. Uma precifica√ß√£o adequada √© fundamental para a valoriza√ß√£o profissional."
        },
        perguntas: [
            "O quanto o seu tratamento para Periodontite Inicial se aproxima de R$ 4.000?",
            "O quanto o seu tratamento para Periodontite Moderada se aproxima de R$ 8.000-12.000?",
            "O quanto o seu tratamento para Periodontite Severa se aproxima de R$ 15.000-20.000?",
            "O quanto o seu tratamento para Gengivite se aproxima de R$ 2.000-3.000?",
            "O quanto consegue receber por hora cl√≠nica nos seus tratamentos periodontais?"
        ],
        fb: {
            excellent: "Voc√™ precifica pelo valor que entrega! Seu tratamento est√° alinhado com os valores de refer√™ncia do m√©todo e voc√™ cobra com confian√ßa. Sua valoriza√ß√£o profissional est√° em n√≠vel de excel√™ncia.",
            good: "Voc√™ est√° no caminho da precifica√ß√£o por valor, mas ainda abaixo do potencial. Pequenos ajustes na apresenta√ß√£o do valor podem te aproximar dos valores de refer√™ncia do m√©todo.",
            warning: "Sua precifica√ß√£o est√° significativamente abaixo do potencial. Voc√™ entrega valor mas n√£o cobra por isso. Isso est√° impactando diretamente seu faturamento e percep√ß√£o de mercado.",
            critical: "Sua precifica√ß√£o est√° muito distante do que o m√©todo permite cobrar. Cobrar barato n√£o atrai mais pacientes ‚Äî apenas desvaloriza seu trabalho. √â urgente reestruturar sua estrat√©gia de pre√ßos."
        }
    },
    {
        nome: "CAPTA√á√ÉO", icone: "üì¢", short: "Capta√ß√£o",
        expl: {
            titulo: "O que √© Capta√ß√£o de Pacientes?",
            texto: "Envolve todas as estrat√©gias para atrair e manter pacientes baseado na reputa√ß√£o de 'Dentista que Salva Dentes'. Inclui a√ß√µes de marketing focadas em resultados, rechamadas estrat√©gicas, parcerias profissionais, sistema de indica√ß√µes e constru√ß√£o de uma reputa√ß√£o s√≥lida. √â essencial para o crescimento sustent√°vel da pr√°tica."
        },
        perguntas: [
            "A cada 10 pacientes, quantos deles te conheceram atrav√©s da sua reputa√ß√£o de 'salvar dentes'?",
            "Nos √∫ltimos 6 meses, quantas vezes fez a√ß√µes para reativar pacientes antigos?",
            "O quanto suas parcerias com colegas para encaminhamento se aproxima de 5 profissionais ativos?",
            "A cada m√™s, quantos novos pacientes chegam atrav√©s de indica√ß√µes de pacientes satisfeitos?",
            "A cada 10 pacientes, quantos deles te reconhecem como um dentista que realmente salva dentes?"
        ],
        fb: {
            excellent: "Voc√™ tem uma m√°quina de capta√ß√£o funcionando! Sua reputa√ß√£o de 'dentista que salva dentes' atrai pacientes, as indica√ß√µes fluem e as parcerias est√£o ativas. Voc√™ est√° construindo um neg√≥cio s√≥lido.",
            good: "Boa base de capta√ß√£o, mas ainda h√° oportunidades n√£o aproveitadas. Ampliar parcerias e sistematizar o processo de indica√ß√µes pode acelerar significativamente seu crescimento.",
            warning: "Sua capta√ß√£o √© irregular e n√£o sistematizada. Voc√™ n√£o √© reconhecido como refer√™ncia em salvar dentes e as indica√ß√µes s√£o esparsas. √â hora de construir uma estrat√©gia consistente.",
            critical: "Voc√™ n√£o tem um sistema de capta√ß√£o funcionando. Sem reputa√ß√£o, sem indica√ß√µes e sem parcerias, seu crescimento depende de sorte. Isso precisa mudar urgentemente."
        }
    },
    {
        nome: "RECORR√äNCIA", icone: "üîÑ", short: "Recorr√™ncia",
        expl: {
            titulo: "O que √© Recorr√™ncia de Pacientes?",
            texto: "Refere-se √† capacidade de manter pacientes em tratamentos cont√≠nuos atrav√©s de TPNC/PIC (Tratamento Periodontal N√£o Cir√∫rgico/Preven√ß√£o Integrada Customizada). Inclui o engajamento de diferentes perfis de pacientes em programas de manuten√ß√£o e a apresenta√ß√£o constante de novidades e melhorias para manter o interesse e ades√£o ao tratamento."
        },
        perguntas: [
            "A cada 10 pacientes idosos, adolescentes ou gestantes, quantos deles est√£o em um TPNC/PIC?",
            "A cada 10 pacientes com implantes ou protocolo, quantos deles est√£o em um TPNC/PIC?",
            "A cada 10 pacientes com doen√ßas cardiovasculares (hipertens√£o, stent, infarto, AVC, dislipidemia), quantos deles est√£o em um TPNC/PIC?",
            "Nos 10 √∫ltimos atendimentos, quantos deles voc√™ apresentou novidades (produtos odontol√≥gicos ou orienta√ß√µes de estilo de vida) para os pacientes?",
            "A cada 10 pacientes, quantos est√£o em um TPNC/PIC?"
        ],
        fb: {
            excellent: "Voc√™ tem um sistema de recorr√™ncia s√≥lido! TPNC/PIC √© oferecido consistentemente para todos os perfis e representa receita previs√≠vel. Voc√™ transformou tratamento em relacionamento de longo prazo.",
            good: "Voc√™ oferece TPNC/PIC, mas a ades√£o ainda pode melhorar. Com comunica√ß√£o mais clara do valor da manuten√ß√£o, voc√™ pode aumentar significativamente sua receita recorrente.",
            warning: "Seu sistema de recorr√™ncia √© fraco. Poucos pacientes est√£o em TPNC/PIC e a receita recorrente √© baixa. Voc√™ est√° perdendo a oportunidade de construir uma base financeira est√°vel.",
            critical: "Voc√™ n√£o tem recorr√™ncia. Trata e perde o paciente. Sem TPNC/PIC como rotina, voc√™ recome√ßa do zero a cada m√™s. Implementar um programa de manuten√ß√£o √© essencial para sustentabilidade."
        }
    }
];

const scoreExp = {
    1:  { label: "Nunca consigo",          desc: "N√£o tenho conhecimento ou experi√™ncia nesta √°rea" },
    2:  { label: "Raramente consigo",      desc: "Conhecimento muito b√°sico, pouca aplica√ß√£o pr√°tica" },
    3:  { label: "√Äs vezes consigo",       desc: "Conhecimento b√°sico com aplica√ß√£o espor√°dica" },
    4:  { label: "Ocasionalmente consigo", desc: "Algum conhecimento, mas inconsistente na aplica√ß√£o" },
    5:  { label: "Consigo medianamente",   desc: "Conhecimento intermedi√°rio com aplica√ß√£o moderada" },
    6:  { label: "Consigo bem",            desc: "Bom conhecimento com aplica√ß√£o regular" },
    7:  { label: "Consigo muito bem",      desc: "Conhecimento avan√ßado com boa aplica√ß√£o pr√°tica" },
    8:  { label: "Consigo excelentemente", desc: "Conhecimento s√≥lido com aplica√ß√£o consistente" },
    9:  { label: "Consigo com maestria",   desc: "Conhecimento avan√ßado com excelente aplica√ß√£o" },
    10: { label: "Sempre consigo",         desc: "Dom√≠nio completo com aplica√ß√£o excepcional e consistente" }
};

let S = { areaIdx: 0, qIdx: 0, step: 'expl', ans: {} };
let chart = null;
const totalQ = areas.reduce((s,a) => s + a.perguntas.length, 0);

function show(id)  { document.getElementById(id).classList.remove('hidden'); }
function hide(id)  { document.getElementById(id).classList.add('hidden');    }

function renderExpl() {
    S.step = 'expl';
    const a = areas[S.areaIdx];
    hide('progressSection'); hide('questionSection'); hide('resultsSection');
    show('explanationSection');
    document.getElementById('explBadge').textContent = `${a.icone} √Årea ${S.areaIdx + 1} de ${areas.length} ‚Äî ${a.nome}`;
    document.getElementById('explTitle').textContent = a.expl.titulo;
    document.getElementById('explText').textContent  = a.expl.texto;
}

function startQuestions() {
    S.step = 'q'; S.qIdx = 0;
    hide('explanationSection');
    show('progressSection'); show('questionSection');
    renderQ();
}

function renderQ() {
    const a = areas[S.areaIdx];
    let absIdx = 0;
    for (let i = 0; i < S.areaIdx; i++) absIdx += areas[i].perguntas.length;
    absIdx += S.qIdx + 1;

    const pct = Math.round((absIdx / totalQ) * 100);
    document.getElementById('progressFill').style.width = pct + '%';
    document.getElementById('currentQ').textContent = absIdx;
    document.getElementById('progressPct').textContent = pct + '%';

    document.getElementById('qBadge').textContent = `${a.icone} ${a.nome}`;
    document.getElementById('qMeta').textContent  = `Pergunta ${S.qIdx + 1} de ${a.perguntas.length}`;
    document.getElementById('qText').textContent  = a.perguntas[S.qIdx];

    const key = `${S.areaIdx}_${S.qIdx}`;
    const cur = S.ans[key];

    const grid = document.getElementById('scoreGrid');
    grid.innerHTML = '';
    for (let n = 1; n <= 10; n++) {
        const btn = document.createElement('button');
        btn.className = 'score-btn' + (cur === n ? ' selected' : '');
        btn.textContent = n;
        btn.onclick = () => pickScore(n);
        grid.appendChild(btn);
    }

    if (cur) {
        document.getElementById('expLabel').textContent = scoreExp[cur].label;
        document.getElementById('expDesc').textContent  = scoreExp[cur].desc;
    } else {
        document.getElementById('expLabel').textContent = 'Selecione uma nota';
        document.getElementById('expDesc').textContent  = 'Toque em um n√∫mero para avaliar';
    }

    const isFirst = S.areaIdx === 0 && S.qIdx === 0;
    const isLast  = S.areaIdx === areas.length - 1 && S.qIdx === a.perguntas.length - 1;

    document.getElementById('prevBtn').style.visibility = isFirst ? 'hidden' : 'visible';
    document.getElementById('nextBtn').textContent = isLast ? 'Ver Resultado ‚Üí' : 'Pr√≥xima ‚Üí';
    document.getElementById('nextBtn').disabled = !cur;
}

function pickScore(n) {
    S.ans[`${S.areaIdx}_${S.qIdx}`] = n;
    document.querySelectorAll('.score-btn').forEach((b, i) => b.classList.toggle('selected', i + 1 === n));
    document.getElementById('expLabel').textContent = scoreExp[n].label;
    document.getElementById('expDesc').textContent  = scoreExp[n].desc;
    document.getElementById('nextBtn').disabled = false;
}

function nextQ() {
    const a = areas[S.areaIdx];
    const lastQ    = S.qIdx === a.perguntas.length - 1;
    const lastArea = S.areaIdx === areas.length - 1;
    if (lastQ && lastArea) { showResults(); return; }
    if (lastQ) {
        S.areaIdx++; S.qIdx = 0;
        hide('questionSection'); hide('progressSection');
        renderExpl();
    } else {
        S.qIdx++;
        renderQ();
    }
}

function prevQ() {
    if (S.qIdx > 0) { S.qIdx--; renderQ(); }
    else if (S.areaIdx > 0) { S.areaIdx--; S.qIdx = areas[S.areaIdx].perguntas.length - 1; renderQ(); }
}

function calcResults() {
    return areas.map((a, ai) => {
        let tot = 0, cnt = 0;
        a.perguntas.forEach((_, qi) => {
            const v = S.ans[`${ai}_${qi}`];
            if (v !== undefined) { tot += v; cnt++; }
        });
        const pct = cnt ? Math.round((tot / (cnt * 10)) * 100) : 0;
        const avg = cnt ? tot / cnt : 0;
        return { a, pct, avg };
    });
}

function scoreLevel(p) {
    if (p >= 80) return { lv: 'üü¢ EXCELENTE',   msg: 'Voc√™ est√° no topo da valoriza√ß√£o profissional! Suas habilidades t√©cnicas, precifica√ß√£o e relacionamento com pacientes est√£o em patamar de excel√™ncia com o M√©todo Dentista que Salva Dentes.' };
    if (p >= 60) return { lv: 'üü° BOM',          msg: 'Voc√™ possui uma base s√≥lida, mas ainda h√° oportunidades significativas de crescimento. Com os ajustes certos nas √°reas identificadas, voc√™ pode alcan√ßar o topo da valoriza√ß√£o profissional.' };
    if (p >= 40) return { lv: 'üü† ATEN√á√ÉO',      msg: 'Voc√™ est√° no caminho, mas inconsist√™ncias est√£o limitando sua capacidade de salvar dentes e sua valoriza√ß√£o no mercado. √â hora de estruturar melhor seu m√©todo.' };
    if (p >= 20) return { lv: 'üî¥ CR√çTICO',      msg: 'Sua pr√°tica apresenta defici√™ncias em m√∫ltiplas √°reas fundamentais. Uma revis√£o completa da sua estrat√©gia profissional √© necess√°ria para destravar seu potencial.' };
    return             { lv: '‚ö´ EMERGENCIAL',   msg: 'Situa√ß√£o que requer interven√ß√£o imediata. Identificar esses gaps √© o primeiro passo para uma transforma√ß√£o completa da sua pr√°tica profissional.' };
}

function statusClass(p) {
    if (p >= 80) return 's-excellent';
    if (p >= 60) return 's-good';
    if (p >= 40) return 's-warning';
    return 's-critical';
}

function statusText(p) {
    if (p >= 80) return '‚úì Excelente';
    if (p >= 60) return '‚óê Bom';
    if (p >= 40) return '‚ö† Aten√ß√£o';
    return '‚úó Cr√≠tico';
}

function getFb(area, p) {
    if (p >= 80) return area.fb.excellent;
    if (p >= 60) return area.fb.good;
    if (p >= 40) return area.fb.warning;
    return area.fb.critical;
}

function showResults() {
    hide('progressSection'); hide('questionSection'); hide('explanationSection');
